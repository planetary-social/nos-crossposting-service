(function(){"use strict";var e={4801:function(e,t,r){var n=r(9242),o=r(3396),i=r(7139);const c={class:"wrapper"};function s(e,t,r,n,s,u){const a=(0,o.up)("Header"),l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(a),(0,o.Uk)(" "+(0,i.zw)(e.user)+" ",1),(0,o.Wm)(l)])}var u,a=r(7327),l=r(6520),d=r(65),p=r(4161);(function(e){e["SetUser"]="setUser"})(u||(u={}));var f=(0,d.MT)({state:{user:void 0},getters:{},mutations:{[u.SetUser](e,t){e.user=t}},actions:{},modules:{}});class v{constructor(e){(0,a.Z)(this,"store",void 0),(0,a.Z)(this,"axios",p.Z.create()),this.store=e}currentUser(){const e="/api/current-user";return this.axios.get(e)}publicKeys(){const e="/api/public-keys";return this.axios.get(e)}addPublicKey(e){const t="/api/public-keys";return this.axios.post(t,e)}refreshCurrentUser(){return new Promise(((e,t)=>{this.currentUser().then((t=>{this.store.commit(u.SetUser,t.data.user),e(t.data)}),(e=>{t(e)}))}))}}var g=r.p+"img/logo.79c97fb0.svg";const h=e=>((0,o.dD)("data-v-5f2e3f63"),e=e(),(0,o.Cn)(),e),y=h((()=>(0,o._)("a",{class:"logo"},[(0,o._)("img",{src:g})],-1))),b=h((()=>(0,o._)("nav",null,[(0,o._)("ul",null,[(0,o._)("li",null,[(0,o._)("a",null,"Link 1")]),(0,o._)("li",null,[(0,o._)("a",null,"Link 2")])])],-1))),w=[y,b];function _(e,t,r,n,i,c){return(0,o.wg)(),(0,o.iD)("header",null,w)}var k=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};let O=class extends l.w3{};O=k([(0,l.Ei)({})],O);var D=O,m=r(89);const j=(0,m.Z)(D,[["render",_],["__scopeId","data-v-5f2e3f63"]]);var P=j,R=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};let x=class extends l.w3{constructor(...e){super(...e),(0,a.Z)(this,"apiService",new v((0,d.oR)()))}created(){this.loadCurrentUser()}loadCurrentUser(){this.apiService.refreshCurrentUser()}};x=R([(0,l.Ei)({components:{Header:P}})],x);var Z=x;const K=(0,m.Z)(Z,[["render",s]]);var U=K,C=r(2483);const I=e=>((0,o.dD)("data-v-59b3f086"),e=e(),(0,o.Cn)(),e),E={class:"home"},S=I((()=>(0,o._)("div",{class:"step"}," 1. Link your X account: ",-1))),L={key:0},q={key:1},W=I((()=>(0,o._)("div",{class:"step"}," 2. Your nostr identities: ",-1))),T={key:2},X={key:3},Y={key:0},z={key:1},H={key:0},N={key:1};function B(e,t,r,c,s,u){const a=(0,o.up)("Explanation"),l=(0,o.up)("LogInWithTwitterButton"),d=(0,o.up)("CurrentUser"),p=(0,o.up)("Input");return(0,o.wg)(),(0,o.iD)("div",E,[(0,o.Wm)(a),S,e.loading||e.user?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",L,[(0,o.Wm)(l)])),!e.loading&&e.user?((0,o.wg)(),(0,o.iD)("div",q,[(0,o.Wm)(d,{user:e.user},null,8,["user"])])):(0,o.kq)("",!0),W,(0,o.Wm)(p,{placeholder:"Paste your npub address"}),e.loading?((0,o.wg)(),(0,o.iD)("div",T," Loading... ")):(0,o.kq)("",!0),!e.loading&&e.user?((0,o.wg)(),(0,o.iD)("div",X,[e.publicKeys?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Y," Loading public keys... ")),e.publicKeys?((0,o.wg)(),(0,o.iD)("div",z,[e.publicKeys.publicKeys?.length>0?((0,o.wg)(),(0,o.iD)("ul",H,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.publicKeys.publicKeys,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e.npub},(0,i.zw)(e.npub),1)))),128))])):(0,o.kq)("",!0),0==e.publicKeys.publicKeys?.length?((0,o.wg)(),(0,o.iD)("p",N," You haven't added any public keys yet. ")):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{placeholder:"npub...","onUpdate:modelValue":t[0]||(t[0]=t=>e.npub=t)},null,512),[[n.nr,e.npub]]),(0,o._)("button",{onClick:t[1]||(t[1]=(...t)=>e.addPublicKey&&e.addPublicKey(...t))},"Link public key")])):(0,o.kq)("",!0)])}const M=e=>((0,o.dD)("data-v-2a823115"),e=e(),(0,o.Cn)(),e),F={class:"explanation"},V=M((()=>(0,o._)("div",{class:"large"}," Start posting your Nostr content on X ",-1))),A=M((()=>(0,o._)("div",{class:"small"}," Log in to your X account and add your Nostr identities so that everything you publish on Nostr will be mirrored on X ",-1))),G=[V,A];function J(e,t,r,n,i,c){return(0,o.wg)(),(0,o.iD)("div",F,G)}var Q=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};let $=class extends l.w3{};$=Q([(0,l.Ei)({})],$);var ee=$;const te=(0,m.Z)(ee,[["render",J],["__scopeId","data-v-2a823115"]]);var re=te,ne=r.p+"img/login_with_x.b3cda31f.svg";const oe=e=>((0,o.dD)("data-v-2398ccb5"),e=e(),(0,o.Cn)(),e),ie={href:"/login",class:"log-in-with-twitter-button"},ce=oe((()=>(0,o._)("div",{class:"img-wrapper"},[(0,o._)("img",{src:ne})],-1))),se=[ce];function ue(e,t,r,n,i,c){return(0,o.wg)(),(0,o.iD)("a",ie,se)}var ae=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};let le=class extends l.w3{};le=ae([(0,l.Ei)({})],le);var de=le;const pe=(0,m.Z)(de,[["render",ue],["__scopeId","data-v-2398ccb5"]]);var fe=pe;const ve={class:"current-user"};function ge(e,t,r,n,c,s){return(0,o.wg)(),(0,o.iD)("div",ve," You are logged in as "+(0,i.zw)(e.user.accountID)+". ",1)}class he{constructor(){(0,a.Z)(this,"accountID",void 0),(0,a.Z)(this,"twitterID",void 0)}}var ye=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};let be=class extends l.w3{constructor(...e){super(...e),(0,a.Z)(this,"user",void 0)}};be=ye([(0,l.Ei)({props:{user:he}})],be);var we=be;const _e=(0,m.Z)(we,[["render",ge]]);var ke=_e;class Oe{constructor(e){(0,a.Z)(this,"npub",void 0),this.npub=e}}const De=["placeholder"];function me(e,t,r,n,i,c){return(0,o.wg)(),(0,o.iD)("input",{type:"text",placeholder:e.placeholder},null,8,De)}var je=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};let Pe=class extends l.w3{constructor(...e){super(...e),(0,a.Z)(this,"placeholder",void 0)}};Pe=je([(0,l.Ei)({props:{placeholder:String}})],Pe);var Re=Pe;const xe=(0,m.Z)(Re,[["render",me],["__scopeId","data-v-46a5e121"]]);var Ze=xe,Ke=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};let Ue=class extends l.w3{constructor(...e){super(...e),(0,a.Z)(this,"apiService",new v((0,d.oR)())),(0,a.Z)(this,"store",(0,d.oR)()),(0,a.Z)(this,"publicKeys",null),(0,a.Z)(this,"npub","")}get loading(){return void 0===this.store.state.user}get user(){return this.store.state.user}created(){this.apiService.publicKeys().then((e=>{this.publicKeys=e.data}))}addPublicKey(){this.apiService.addPublicKey(new Oe(this.npub)).then((e=>{console.log("added",e)})).catch((e=>{console.log("error",e)}))}};Ue=Ke([(0,l.Ei)({components:{CurrentUser:ke,LogInWithTwitterButton:fe,Explanation:re,Input:Ze}})],Ue);var Ce=Ue;const Ie=(0,m.Z)(Ce,[["render",B],["__scopeId","data-v-59b3f086"]]);var Ee=Ie;const Se=[{path:"/",name:"home",component:Ee}],Le=(0,C.p7)({history:(0,C.PO)("/"),routes:Se});var qe=Le;(0,n.ri)(U).use(f).use(qe).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,i){if(!n){var c=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],i=e[l][2];for(var s=!0,u=0;u<n.length;u++)(!1&i||c>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(s=!1,i<c&&(c=i));if(s){e.splice(l--,1);var a=o();void 0!==a&&(t=a)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.p="/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,c=n[0],s=n[1],u=n[2],a=0;if(c.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(u)var l=u(r)}for(t&&t(n);a<c.length;a++)i=c[a],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},n=self["webpackChunknos_crossposting_service_frontend"]=self["webpackChunknos_crossposting_service_frontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(4801)}));n=r.O(n)})();
//# sourceMappingURL=app.438c80ff.js.map