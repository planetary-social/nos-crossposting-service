(function(){"use strict";var e={4234:function(e,t,r){var o=r(9242),n=r(3396);const i={class:"wrapper"},s={class:"content"};function c(e,t,r,o,c,a){const l=(0,n.up)("Header"),u=(0,n.up)("Notifications"),d=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(l),(0,n._)("div",s,[(0,n.Wm)(u),(0,n.Wm)(d)])])}var a,l=r(7327),u=r(6520),d=r(65),f=r(4161);class p{constructor(e,t){(0,l.Z)(this,"style",void 0),(0,l.Z)(this,"text",void 0),this.style=e,this.text=t}}(function(e){e["SetUser"]="setUser",e["PushNotificationError"]="pushNotificationError",e["DismissNotification"]="dismissNotification"})(a||(a={}));var h=(0,d.MT)({state:{user:void 0,notifications:[]},getters:{},mutations:{[a.SetUser](e,t){e.user=t},[a.PushNotificationError](e,t){e.notifications?.push(new p("error",t))},[a.DismissNotification](e,t){e.notifications?.splice(t,1)}},actions:{},modules:{}});class v{constructor(e){(0,l.Z)(this,"store",void 0),(0,l.Z)(this,"axios",f.Z.create()),this.store=e}currentUser(){const e="/api/current-user";return this.axios.get(e)}logout(){const e="/api/current-user";return this.axios.delete(e)}publicKeys(){const e="/api/public-keys";return this.axios.get(e)}addPublicKey(e){const t="/api/public-keys";return this.axios.post(t,e)}logoutCurrentUser(){return new Promise(((e,t)=>{this.logout().then((()=>{this.store.commit(a.SetUser,null),e()}),(e=>{t(e)}))}))}refreshCurrentUser(){return new Promise(((e,t)=>{this.currentUser().then((t=>{this.store.commit(a.SetUser,t.data.user),e(t.data)}),(e=>{t(e)}))}))}}var g=r.p+"img/logo.79c97fb0.svg";const b=e=>((0,n.dD)("data-v-5ad51a16"),e=e(),(0,n.Cn)(),e),y=b((()=>(0,n._)("a",{class:"logo",href:"/"},[(0,n._)("img",{src:g})],-1))),m=b((()=>(0,n._)("nav",null,[(0,n._)("ul",null,[(0,n._)("li",null,[(0,n._)("a",{href:"https://nos.social"},"Download Nos")]),(0,n._)("li",null,[(0,n._)("a",{href:"https://github.com/planetary-social/nos-crossposting-service"},"Source code")])])],-1)));function w(e,t,r,o,i,s){const c=(0,n.up)("LogoutButton");return(0,n.wg)(),(0,n.iD)("header",null,[y,m,e.userIsLoggedIn?((0,n.wg)(),(0,n.j4)(c,{key:0})):(0,n.kq)("",!0)])}var _=r.p+"img/logout_on_light.d9f6b5e8.svg";const k=e=>((0,n.dD)("data-v-5ac017a3"),e=e(),(0,n.Cn)(),e),D=k((()=>(0,n._)("div",{class:"label"}," Logout ",-1))),O=k((()=>(0,n._)("img",{class:"icon",src:_},null,-1))),R=[D,O];function P(e,t,r,o,i,s){return(0,n.wg)(),(0,n.iD)("a",{class:"logout-button",onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},R)}var j=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Z=class extends u.w3{constructor(...e){super(...e),(0,l.Z)(this,"apiService",new v((0,d.oR)())),(0,l.Z)(this,"store",(0,d.oR)())}logout(){this.apiService.logoutCurrentUser().catch((()=>{this.store.commit(a.PushNotificationError,"Error logging out the user.")}))}};Z=j([(0,u.Ei)({})],Z);var x=Z,C=r(89);const E=(0,C.Z)(x,[["render",P],["__scopeId","data-v-5ac017a3"]]);var I=E,U=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let K=class extends u.w3{constructor(...e){super(...e),(0,l.Z)(this,"store",(0,d.oR)())}get userIsLoggedIn(){return!!this.store.state.user}};K=U([(0,u.Ei)({components:{LogoutButton:I}})],K);var N=K;const S=(0,C.Z)(N,[["render",w],["__scopeId","data-v-5ad51a16"]]);var L=S,W=r(7139);const B={class:"notifications"},V={class:"text"},q=["onClick"];function z(e,t,r,o,i,s){return(0,n.wg)(),(0,n.iD)("ul",B,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.notifications,((t,r)=>((0,n.wg)(),(0,n.iD)("li",{class:(0,W.C_)(["notification",[t.style]]),key:r},[(0,n._)("div",V,(0,W.zw)(t.text),1),(0,n._)("div",{class:"button",onClick:t=>e.dismiss(r)}," X ",8,q)],2)))),128))])}var T=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let X=class extends u.w3{constructor(...e){super(...e),(0,l.Z)(this,"store",(0,d.oR)())}get notifications(){return this.store.state.notifications}dismiss(e){this.store.commit(a.DismissNotification,e)}};X=T([(0,u.Ei)({components:{}})],X);var H=X;const Y=(0,C.Z)(H,[["render",z],["__scopeId","data-v-11301b3e"]]);var M=Y,$=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let A=class extends u.w3{constructor(...e){super(...e),(0,l.Z)(this,"apiService",new v((0,d.oR)())),(0,l.Z)(this,"store",(0,d.oR)())}created(){this.apiService.refreshCurrentUser().catch((()=>{this.store.commit(a.PushNotificationError,"Error loading the user.")}))}};A=$([(0,u.Ei)({components:{Notifications:M,Header:L}})],A);var F=A;const G=(0,C.Z)(F,[["render",c]]);var J=G,Q=r(2483);const ee=e=>((0,n.dD)("data-v-59b9d9a4"),e=e(),(0,n.Cn)(),e),te={class:"home"},re={key:0},oe=ee((()=>(0,n._)("div",{class:"step"}," 1. Link your X account: ",-1))),ne={key:1},ie=ee((()=>(0,n._)("div",{class:"step"}," 1. Logged in as ",-1))),se=ee((()=>(0,n._)("div",{class:"step"}," 2. Your nostr identities: ",-1))),ce={key:2,class:"public-keys-wrapper"},ae={key:0},le={key:1,class:"public-keys"},ue={class:"npub"},de={class:"link-npub-form"};function fe(e,t,r,o,i,s){const c=(0,n.up)("Explanation"),a=(0,n.up)("LogInWithTwitterButton"),l=(0,n.up)("CurrentUser"),u=(0,n.up)("Checkmark"),d=(0,n.up)("Input"),f=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)("div",te,[(0,n.Wm)(c),e.loadingUser||e.user?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",re,[oe,(0,n.Wm)(a)])),!e.loadingUser&&e.user?((0,n.wg)(),(0,n.iD)("div",ne,[ie,(0,n.Wm)(l,{user:e.user},null,8,["user"])])):(0,n.kq)("",!0),se,!e.loadingUser&&e.user?((0,n.wg)(),(0,n.iD)("div",ce,[e.publicKeys?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ae," Loading public keys... ")),e.publicKeys&&e.publicKeys.publicKeys?.length>0?((0,n.wg)(),(0,n.iD)("ul",le,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.publicKeys.publicKeys,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.npub},[(0,n._)("div",ue,(0,W.zw)(e.npub),1),(0,n.Wm)(u)])))),128))])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),(0,n._)("div",de,[(0,n.Wm)(d,{placeholder:"Paste your npub address",modelValue:e.npub,"onUpdate:modelValue":t[0]||(t[0]=t=>e.npub=t),disabled:e.formDisabled},null,8,["modelValue","disabled"]),(0,n.Wm)(f,{text:"Add",onClick:e.addPublicKey,disabled:e.formDisabled},null,8,["onClick","disabled"])])])}const pe=e=>((0,n.dD)("data-v-e0b84cee"),e=e(),(0,n.Cn)(),e),he={class:"explanation"},ve=pe((()=>(0,n._)("div",{class:"large"}," Start posting your Nostr content on X ",-1))),ge=pe((()=>(0,n._)("div",{class:"small"}," Log in to your X account and add your Nostr identities so that everything you publish on Nostr will be mirrored on X ",-1))),be=[ve,ge];function ye(e,t,r,o,i,s){return(0,n.wg)(),(0,n.iD)("div",he,be)}var me=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let we=class extends u.w3{};we=me([(0,u.Ei)({})],we);var _e=we;const ke=(0,C.Z)(_e,[["render",ye],["__scopeId","data-v-e0b84cee"]]);var De=ke,Oe=r.p+"img/login_with_x.b3cda31f.svg";const Re=e=>((0,n.dD)("data-v-153ecc92"),e=e(),(0,n.Cn)(),e),Pe={href:"/login",class:"log-in-with-twitter-button"},je=Re((()=>(0,n._)("div",{class:"img-wrapper"},[(0,n._)("img",{src:Oe})],-1))),Ze=[je];function xe(e,t,r,o,i,s){return(0,n.wg)(),(0,n.iD)("a",Pe,Ze)}var Ce=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ee=class extends u.w3{};Ee=Ce([(0,u.Ei)({})],Ee);var Ie=Ee;const Ue=(0,C.Z)(Ie,[["render",xe],["__scopeId","data-v-153ecc92"]]);var Ke=Ue,Ne=r.p+"img/logout_on_dark.2eaec2bd.svg";const Se=e=>((0,n.dD)("data-v-769a601f"),e=e(),(0,n.Cn)(),e),Le={class:"current-user"},We={class:"user-info"},Be=["src"],Ve={class:"name"},qe={class:"username"},ze=Se((()=>(0,n._)("img",{src:Ne},null,-1))),Te=[ze];function Xe(e,t,r,o,i,s){const c=(0,n.up)("Checkmark");return(0,n.wg)(),(0,n.iD)("div",Le,[(0,n._)("div",We,[(0,n._)("img",{class:"image",src:e.user?.twitterProfileImageURL},null,8,Be),(0,n._)("div",Ve,(0,W.zw)(e.user.twitterName),1),(0,n._)("div",qe,"@"+(0,W.zw)(e.user.twitterUsername),1),(0,n._)("a",{class:"logout-button",onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},Te)]),(0,n.Wm)(c)])}class He{constructor(){(0,l.Z)(this,"accountID",void 0),(0,l.Z)(this,"twitterID",void 0),(0,l.Z)(this,"twitterName",void 0),(0,l.Z)(this,"twitterUsername",void 0),(0,l.Z)(this,"twitterProfileImageURL",void 0)}}var Ye=r.p+"img/checkmark.3921dcf8.svg";const Me={class:"checkmark",src:Ye};function $e(e,t,r,o,i,s){return(0,n.wg)(),(0,n.iD)("img",Me)}var Ae=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Fe=class extends u.w3{};Fe=Ae([(0,u.Ei)({})],Fe);var Ge=Fe;const Je=(0,C.Z)(Ge,[["render",$e]]);var Qe=Je,et=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let tt=class extends u.w3{constructor(...e){super(...e),(0,l.Z)(this,"user",void 0),(0,l.Z)(this,"apiService",new v((0,d.oR)())),(0,l.Z)(this,"store",(0,d.oR)())}logout(){this.apiService.logoutCurrentUser().catch((()=>{this.store.commit(a.PushNotificationError,"Error logging out the user.")}))}};tt=et([(0,u.Ei)({components:{Checkmark:Qe},props:{user:He}})],tt);var rt=tt;const ot=(0,C.Z)(rt,[["render",Xe],["__scopeId","data-v-769a601f"]]);var nt=ot;class it{constructor(e){(0,l.Z)(this,"npub",void 0),this.npub=e}}const st=["placeholder","value","disabled"];function ct(e,t,r,o,i,s){return(0,n.wg)(),(0,n.iD)("input",{type:"text",placeholder:e.placeholder,value:e.modelValue,onInput:t[0]||(t[0]=(...t)=>e.onInput&&e.onInput(...t)),class:(0,W.C_)({disabled:e.disabled}),disabled:e.disabled},null,42,st)}var at=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let lt=class extends u.w3{constructor(...e){super(...e),(0,l.Z)(this,"placeholder",void 0),(0,l.Z)(this,"modelValue",void 0),(0,l.Z)(this,"disabled",void 0)}onInput(e){this.$emit("update:modelValue",e.target.value)}};lt=at([(0,u.Ei)({props:{placeholder:String,modelValue:String,disabled:Boolean},emits:["update:modelValue"]})],lt);var ut=lt;const dt=(0,C.Z)(ut,[["render",ct],["__scopeId","data-v-745941ea"]]);var ft=dt;function pt(e,t,r,o,i,s){return(0,n.wg)(),(0,n.iD)("button",{onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t)),class:(0,W.C_)({disabled:e.disabled})},(0,W.zw)(e.text),3)}var ht=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let vt=class extends u.w3{constructor(...e){super(...e),(0,l.Z)(this,"text",void 0),(0,l.Z)(this,"disabled",void 0)}onClick(e){this.$emit("click",e)}};vt=ht([(0,u.Ei)({props:{text:String,disabled:Boolean}})],vt);var gt=vt;const bt=(0,C.Z)(gt,[["render",pt],["__scopeId","data-v-6b71f555"]]);var yt=bt,mt=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let wt=class extends u.w3{constructor(...e){super(...e),(0,l.Z)(this,"apiService",new v((0,d.oR)())),(0,l.Z)(this,"store",(0,d.oR)()),(0,l.Z)(this,"publicKeys",null),(0,l.Z)(this,"npub","")}get loadingUser(){return void 0===this.store.state.user}get user(){return this.store.state.user}get formDisabled(){return this.loadingUser||!this.user}created(){this.reloadPublicKeys()}addPublicKey(){this.apiService.addPublicKey(new it(this.npub)).then((()=>{this.npub="",this.reloadPublicKeys()})).catch((()=>{this.store.commit(a.PushNotificationError,"Error adding the public key.")}))}reloadPublicKeys(){this.publicKeys=null,this.apiService.publicKeys().then((e=>{this.publicKeys=e.data})).catch((()=>{this.store.commit(a.PushNotificationError,"Error loading the public keys.")}))}};wt=mt([(0,u.Ei)({components:{Checkmark:Qe,Button:yt,CurrentUser:nt,LogInWithTwitterButton:Ke,Explanation:De,Input:ft}})],wt);var _t=wt;const kt=(0,C.Z)(_t,[["render",fe],["__scopeId","data-v-59b9d9a4"]]);var Dt=kt;const Ot=[{path:"/",name:"home",component:Dt}],Rt=(0,Q.p7)({history:(0,Q.PO)("/"),routes:Ot});var Pt=Rt;(0,o.ri)(J).use(h).use(Pt).mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,i){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],i=e[u][2];for(var c=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(r.O).every((function(e){return r.O[e](o[a])}))?o.splice(a--,1):(c=!1,i<s&&(s=i));if(c){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,n,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.p="/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,i,s=o[0],c=o[1],a=o[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(a)var u=a(r)}for(t&&t(o);l<s.length;l++)i=s[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},o=self["webpackChunknos_crossposting_service_frontend"]=self["webpackChunknos_crossposting_service_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(4234)}));o=r.O(o)})();
//# sourceMappingURL=app.04629379.js.map