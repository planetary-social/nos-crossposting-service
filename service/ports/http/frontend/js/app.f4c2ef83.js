(function(){"use strict";var e={8925:function(e,t,r){var n=r(9242),o=r(3396),i=r(7139);const s={class:"wrapper"};function c(e,t,r,n,c,a){const u=(0,o.up)("Header"),l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(u),(0,o.Uk)(" "+(0,i.zw)(e.user)+" ",1),(0,o.Wm)(l)])}var a,u=r(7327),l=r(6520),d=r(65),p=r(4161);(function(e){e["SetUser"]="setUser"})(a||(a={}));var f=(0,d.MT)({state:{user:void 0},getters:{},mutations:{[a.SetUser](e,t){e.user=t}},actions:{},modules:{}});class v{constructor(e){(0,u.Z)(this,"store",void 0),(0,u.Z)(this,"axios",p.Z.create()),this.store=e}currentUser(){const e="/api/current-user";return this.axios.get(e)}publicKeys(){const e="/api/public-keys";return this.axios.get(e)}addPublicKey(e){const t="/api/public-keys";return this.axios.post(t,e)}refreshCurrentUser(){return new Promise(((e,t)=>{this.currentUser().then((t=>{this.store.commit(a.SetUser,t.data.user),e(t.data)}),(e=>{t(e)}))}))}}var g=r.p+"img/logo.79c97fb0.svg";const h=e=>((0,o.dD)("data-v-5f2e3f63"),e=e(),(0,o.Cn)(),e),y=h((()=>(0,o._)("a",{class:"logo"},[(0,o._)("img",{src:g})],-1))),b=h((()=>(0,o._)("nav",null,[(0,o._)("ul",null,[(0,o._)("li",null,[(0,o._)("a",null,"Link 1")]),(0,o._)("li",null,[(0,o._)("a",null,"Link 2")])])],-1))),w=[y,b];function _(e,t,r,n,i,s){return(0,o.wg)(),(0,o.iD)("header",null,w)}var m=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let k=class extends l.w3{};k=m([(0,l.Ei)({})],k);var O=k,D=r(89);const j=(0,D.Z)(O,[["render",_],["__scopeId","data-v-5f2e3f63"]]);var P=j,R=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Z=class extends l.w3{constructor(...e){super(...e),(0,u.Z)(this,"apiService",new v((0,d.oR)()))}created(){this.loadCurrentUser()}loadCurrentUser(){this.apiService.refreshCurrentUser()}};Z=R([(0,l.Ei)({components:{Header:P}})],Z);var x=Z;const K=(0,D.Z)(x,[["render",c]]);var U=K,C=r(2483);const I=e=>((0,o.dD)("data-v-0f0063f5"),e=e(),(0,o.Cn)(),e),L={class:"home"},E={key:0},S=I((()=>(0,o._)("div",{class:"step"}," 1. Link your X account: ",-1))),q={key:1},W=I((()=>(0,o._)("div",{class:"step"}," 1. Logged in as ",-1))),N=I((()=>(0,o._)("div",{class:"step"}," 2. Your nostr identities: ",-1))),T={key:2},z={key:3},X={key:0},H={key:1},Y={key:0},B={key:1};function M(e,t,r,s,c,a){const u=(0,o.up)("Explanation"),l=(0,o.up)("LogInWithTwitterButton"),d=(0,o.up)("CurrentUser"),p=(0,o.up)("Input");return(0,o.wg)(),(0,o.iD)("div",L,[(0,o.Wm)(u),e.loading||e.user?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",E,[S,(0,o.Wm)(l)])),!e.loading&&e.user?((0,o.wg)(),(0,o.iD)("div",q,[W,(0,o.Wm)(d,{user:e.user},null,8,["user"])])):(0,o.kq)("",!0),N,(0,o.Wm)(p,{placeholder:"Paste your npub address"}),e.loading?((0,o.wg)(),(0,o.iD)("div",T," Loading... ")):(0,o.kq)("",!0),!e.loading&&e.user?((0,o.wg)(),(0,o.iD)("div",z,[e.publicKeys?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",X," Loading public keys... ")),e.publicKeys?((0,o.wg)(),(0,o.iD)("div",H,[e.publicKeys.publicKeys?.length>0?((0,o.wg)(),(0,o.iD)("ul",Y,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.publicKeys.publicKeys,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e.npub},(0,i.zw)(e.npub),1)))),128))])):(0,o.kq)("",!0),0==e.publicKeys.publicKeys?.length?((0,o.wg)(),(0,o.iD)("p",B," You haven't added any public keys yet. ")):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{placeholder:"npub...","onUpdate:modelValue":t[0]||(t[0]=t=>e.npub=t)},null,512),[[n.nr,e.npub]]),(0,o._)("button",{onClick:t[1]||(t[1]=(...t)=>e.addPublicKey&&e.addPublicKey(...t))},"Link public key")])):(0,o.kq)("",!0)])}const F=e=>((0,o.dD)("data-v-2a823115"),e=e(),(0,o.Cn)(),e),V={class:"explanation"},A=F((()=>(0,o._)("div",{class:"large"}," Start posting your Nostr content on X ",-1))),G=F((()=>(0,o._)("div",{class:"small"}," Log in to your X account and add your Nostr identities so that everything you publish on Nostr will be mirrored on X ",-1))),J=[A,G];function Q(e,t,r,n,i,s){return(0,o.wg)(),(0,o.iD)("div",V,J)}var $=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let ee=class extends l.w3{};ee=$([(0,l.Ei)({})],ee);var te=ee;const re=(0,D.Z)(te,[["render",Q],["__scopeId","data-v-2a823115"]]);var ne=re,oe=r.p+"img/login_with_x.b3cda31f.svg";const ie=e=>((0,o.dD)("data-v-2398ccb5"),e=e(),(0,o.Cn)(),e),se={href:"/login",class:"log-in-with-twitter-button"},ce=ie((()=>(0,o._)("div",{class:"img-wrapper"},[(0,o._)("img",{src:oe})],-1))),ae=[ce];function ue(e,t,r,n,i,s){return(0,o.wg)(),(0,o.iD)("a",se,ae)}var le=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let de=class extends l.w3{};de=le([(0,l.Ei)({})],de);var pe=de;const fe=(0,D.Z)(pe,[["render",ue],["__scopeId","data-v-2398ccb5"]]);var ve=fe,ge=r.p+"img/logout_on_dark.2eaec2bd.svg";const he=e=>((0,o.dD)("data-v-7d5010a7"),e=e(),(0,o.Cn)(),e),ye={class:"current-user"},be=["src"],we={class:"name"},_e={class:"username"},me=he((()=>(0,o._)("a",{class:"logout-button"},[(0,o._)("img",{src:ge})],-1)));function ke(e,t,r,n,s,c){return(0,o.wg)(),(0,o.iD)("div",ye,[(0,o._)("img",{class:"image",src:e.user?.twitterProfileImageURL},null,8,be),(0,o._)("div",we,(0,i.zw)(e.user.twitterName),1),(0,o._)("div",_e,"@"+(0,i.zw)(e.user.twitterUsername),1),me])}class Oe{constructor(){(0,u.Z)(this,"accountID",void 0),(0,u.Z)(this,"twitterID",void 0),(0,u.Z)(this,"twitterName",void 0),(0,u.Z)(this,"twitterUsername",void 0),(0,u.Z)(this,"twitterProfileImageURL",void 0)}}var De=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let je=class extends l.w3{constructor(...e){super(...e),(0,u.Z)(this,"user",void 0)}};je=De([(0,l.Ei)({props:{user:Oe}})],je);var Pe=je;const Re=(0,D.Z)(Pe,[["render",ke],["__scopeId","data-v-7d5010a7"]]);var Ze=Re;class xe{constructor(e){(0,u.Z)(this,"npub",void 0),this.npub=e}}const Ke=["placeholder"];function Ue(e,t,r,n,i,s){return(0,o.wg)(),(0,o.iD)("input",{type:"text",placeholder:e.placeholder},null,8,Ke)}var Ce=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let Ie=class extends l.w3{constructor(...e){super(...e),(0,u.Z)(this,"placeholder",void 0)}};Ie=Ce([(0,l.Ei)({props:{placeholder:String}})],Ie);var Le=Ie;const Ee=(0,D.Z)(Le,[["render",Ue],["__scopeId","data-v-46a5e121"]]);var Se=Ee,qe=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let We=class extends l.w3{constructor(...e){super(...e),(0,u.Z)(this,"apiService",new v((0,d.oR)())),(0,u.Z)(this,"store",(0,d.oR)()),(0,u.Z)(this,"publicKeys",null),(0,u.Z)(this,"npub","")}get loading(){return void 0===this.store.state.user}get user(){return this.store.state.user}created(){this.apiService.publicKeys().then((e=>{this.publicKeys=e.data}))}addPublicKey(){this.apiService.addPublicKey(new xe(this.npub)).then((e=>{console.log("added",e)})).catch((e=>{console.log("error",e)}))}};We=qe([(0,l.Ei)({components:{CurrentUser:Ze,LogInWithTwitterButton:ve,Explanation:ne,Input:Se}})],We);var Ne=We;const Te=(0,D.Z)(Ne,[["render",M],["__scopeId","data-v-0f0063f5"]]);var ze=Te;const Xe=[{path:"/",name:"home",component:ze}],He=(0,C.p7)({history:(0,C.PO)("/"),routes:Xe});var Ye=He;(0,n.ri)(U).use(f).use(Ye).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,i){if(!n){var s=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],i=e[l][2];for(var c=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[a])}))?n.splice(a--,1):(c=!1,i<s&&(s=i));if(c){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.p="/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,s=n[0],c=n[1],a=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(a)var l=a(r)}for(t&&t(n);u<s.length;u++)i=s[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},n=self["webpackChunknos_crossposting_service_frontend"]=self["webpackChunknos_crossposting_service_frontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(8925)}));n=r.O(n)})();
//# sourceMappingURL=app.f4c2ef83.js.map